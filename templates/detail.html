{% extends 'base.html' %}

{% block body %}

<h1>詳細ページ</h1>

<div class="container">
  <!--元のスレッド-->  
  <div class="card border-dark mb-3" style="max-width: 60rem;">
        
    
    <div class="card-header" style="background-color: orange;">日付：{{  post.post_date.strftime('%Y/%m/%d %H:%M:%S') }}　記録者：{{ post.user }}</div>
      <div class="card-body text-dark">
        <!--
          <h5 class="card-title">タイトル：{{ post.title }}</h5>
        -->
      <ul class="list-group list-group-horizontal">
        <li class="list-group-item list-group-item-secondary">　体重　</li>
        <li class="list-group-item" style="min-width: 30rem;">{{ post.weight }}</li>
      </ul>
      <ul class="list-group list-group-horizontal">
        <li class="list-group-item list-group-item-secondary">　朝食　</li>
        <li class="list-group-item" style="min-width: 30rem;">{{ post.breakf }}</li>
      </ul>
      <ul class="list-group list-group-horizontal">
        <li class="list-group-item list-group-item-secondary">　昼食　</li>
        <li class="list-group-item" style="min-width: 30rem;">{{ post.lunch }}</li>
      </ul>
      <ul class="list-group list-group-horizontal">
        <li class="list-group-item list-group-item-secondary">　夕食　</li>
        <li class="list-group-item" style="min-width: 30rem;">{{ post.dinner }}</li>
      </ul>
      <ul class="list-group list-group-horizontal">
        <li class="list-group-item list-group-item-secondary">練習内容</li>
        <li class="list-group-item" style="min-width: 30rem;">{{ post.detail }}</li>
      </ul>
      </div>
    </div>

    {% for comment in comments %}
    <div class="card border-dark mb-3" style="max-width: 40rem;">
      <div class="card-header">日付：{{  comment.post_date.strftime('%Y/%m/%d %H:%M:%S') }}   投稿者：{{ comment.user }}</div>
        <div class="card-body text-dark">
          <p class="card-text">{{ comment.detail }}</p>
        </div>
    </div>
    
    {% endfor %}

    <!--コメント入力フォーム-->
    <div class="card border-dark mb-3" style="max-width: 40rem;" id="commentform">
      <form action="/comment/{{post.id}}" method="POST">
        <p>日付：<input type="date" name="post_date" value="{{datenow.date()}}"></p>
        <input class="form-control" name="user" type="text" placeholder="指導者名" aria-label="default input example">
        <div class="mb-2">
            <label for="exampleFormControlTextarea1" class="form-label">フィードバック</label>
            <textarea class="form-control"  name="detail" id="exampleFormControlTextarea1" rows="3"></textarea>
        </div>
        <!--
         <パスワード>
        <label for="inputPassword5" class="form-label">パスワード</label>
        <input type="password" name="passward" id="inputPassword5" class="form-control" aria-describedby="passwordHelpBlock">
        <div id="passwordHelpBlock" class="form-text">
            ８文字以上２０字以内の半角英数字
        </div>
        -->
        <!-- 投稿するボタン -->
        <button type="submit" class="btn btn-success">投稿する</button>
      </form>
    </div>
    

    <!--コメントするボタン-->
    <div align="center">
      <input type="button" id="commentbutton" class="btn btn-primary" value="コメントする" onclick="test()">
    </div>
    <!--戻るボタン-->
    <a href="/" type="button" class="btn btn-secondary btn-lg">戻る</a>
</div>

<script>
  document.getElementById("commentform").style.display ="none";

  function test(){
    var form = document.getElementById("commentform");
    var button = document.getElementById("commentbutton");

    if(form.style.display=="block"){
      form.style.display ="none";
      button.value="コメントする";
      
    }else{
      form.style.display ="block";
      button.value="やめる";    
    }
}
</script>
{% endblock %}